# Документация API системы для трансляции медиаконтента с аналитикой

## Обзор

Этот API разработан с использованием Django REST Framework и предназначен для управления видеосистемой, включая камеры, экраны, медиаконтент и расписания. API включает различные endpoints, которые позволяют выполнять CRUD-операции, а также специализированные функции для загрузки медиафайлов и предоставления детальной информации о системе.

## Endpoints

### Камеры (`/api/camera/`)
- **GET**: Получение списка всех камер.
- **POST**: Добавление новой камеры.
- **GET `/api/camera/{id}/`**: Получение информации о конкретной камере.
- **PUT/PATCH `/api/camera/{id}/`**: Обновление информации о камере.
- **DELETE `/api/camera/{id}/`**: Удаление камеры.

### Экраны (`/api/screen/`)
- **GET**: Получение списка всех экранов.
- **POST**: Добавление нового экрана.
- **GET `/api/screen/{id}/`**: Получение информации о конкретном экране.
- **PUT/PATCH `/api/screen/{id}/`**: Обновление информации об экране.
- **DELETE `/api/screen/{id}/`**: Удаление экрана.
- **GET `/api/screen/{id}/videomanager/{mode}/`**: Получение или загрузка данных видеоменеджера для экрана в зависимости от режима (`show` или `download`).

### Связи Камера-Экран (`/api/camerascreen/`)
- CRUD операции для управления связями между камерами и экранами.

### Расписание (`/api/schedule/`)
- CRUD операции для управления расписаниями медиаконтента на экранах.

### Медиаконтент (`/api/mediacontent/`)
- **GET**: Получение списка всего медиаконтента.
- **POST**: Добавление медиаконтента с использованием специального сериализатора для записи.
- **GET `/api/mediacontent/{id}/`**: Подробная информация о медиаконтенте.
- **PUT/PATCH `/api/mediacontent/{id}/`**: Обновление медиаконтента.
- **DELETE `/api/mediacontent/{id}/`**: Удаление медиаконтента.
- **GET `/api/mediacontent/{id}/video/download/`**: Загрузка видеофайла.
- **GET `/api/mediacontent/{id}/preview/download/`**: Загрузка файла превью.

### Статистика (`/api/statistics/`)
- CRUD операции для управления статистическими данными медиапросмотров.

### Детальная информация по всем камерам (`/api/camera-service-detail`)
- **GET**: Получение детализированной информации о всех камерах, включая связанные экраны, расписания и медиаконтент.

## Управление медиафайлами
Для управления медиафайлами (видео и изображения) предусмотрена регистрация URL, через которую можно получать доступ к файлам, загруженным в систему.

## Разработка и настройки
API разработан с использованием Django и Django REST Framework. Для хранения данных используются модели Django, связанные с базой данных через настроенные таблицы. Модели определяют поля и типы данных, которые включают текстовые поля, ссылки на файлы и взаимосвязи с другими моделями.

## Интеграция и дополнения
API позволяет легко интегрироваться с другими системами и приложениями, предоставляя гибкие интерфейсы для работы с видеоданными и управления видеооборудованием.
